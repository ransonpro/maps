<!DOCTYPE html>
<html>
<head>
  <title>SegurApp Map</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBRIUhxR6XSJs1O1EmWuRvKjg0h87DsaOs"></script>
  <style>
    #map {
      height: 100%;
      width: 100%;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
    function initMap() {
      // Coordenadas predeterminadas (Lechería, Venezuela)
      var defaultLocation = { lat: 10.176872, lng: -64.686673 };
      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 15, // Nivel de zoom
        center: defaultLocation, // Centra en la ubicación predeterminada
      });

      // Agregar marcador en la ubicación predeterminada
      new google.maps.Marker({
        position: defaultLocation,
        map: map,
        title: 'Ubicación predeterminada (Lechería)'
      });

      // Intentar obtener la ubicación actual del usuario
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          function (position) {
            var userLocation = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            // Recentrar el mapa a la ubicación del usuario
            map.setCenter(userLocation);

            // Agregar un marcador en la ubicación del usuario
            new google.maps.Marker({
              position: userLocation,
              map: map,
              title: 'Tu ubicación'
            });
          },
          function () {
            alert('No se pudo obtener tu ubicación. Usando ubicación predeterminada.');
          }
        );
      } else {
        alert('Geolocalización no está soportada por este navegador.');
      }
    }

    // Inicializa el mapa cuando la página se carga
    window.onload = initMap;
  </script>
</body>
</html>
